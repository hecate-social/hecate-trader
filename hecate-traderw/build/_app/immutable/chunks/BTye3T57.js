import{W as Z,i as j,X as G,Y as U,o as ee,Z as B,_ as R,e as _,h as p,P as v,$ as C,I as te,Q as se,a0 as re,b as g,a as z,a1 as A,p as O,m as ie,a2 as ne,a3 as S,a4 as D,a5 as P,a6 as ae,a7 as J,k as K,a8 as V,a9 as fe,aa as q,ab as he,ac as oe,d as F,U as N,K as le,ad as de,ae as H,af as ue,J as ce,ag as _e,ah as pe,f as ge,ai as Y,M as ve,aj as Q,ak as ye,al as me,am as x,an as E,ao as be,ap as Ee,aq as Te,ar as we,B as Re,as as Se,at as De,E as Ne}from"./BReIjH9e.js";import{b as ke}from"./2NoCQRJk.js";function Ae(s){let e=0,t=U(0),i;return()=>{Z()&&(j(t),G(()=>(e===0&&(i=ee(()=>s(()=>B(t)))),e+=1,()=>{R(()=>{e-=1,e===0&&(i?.(),i=void 0,B(t))})})))}}var Oe=ce|_e;function Fe(s,e,t){new Ye(s,e,t)}class Ye{parent;is_pending=!1;#t;#p=p?_:null;#n;#o;#s;#r=null;#e=null;#i=null;#a=null;#l=0;#h=0;#d=!1;#u=new Set;#c=new Set;#f=null;#y=Ae(()=>(this.#f=U(this.#l),()=>{this.#f=null}));constructor(e,t,i){this.#t=e,this.#n=t,this.#o=n=>{var r=v;r.b=this,r.f|=C,i(n)},this.parent=v.b,this.#s=te(()=>{if(p){const n=this.#p;se(),n.data===re?this.#b():this.#m()}else this.#g()},Oe),p&&(this.#t=_)}#m(){try{this.#r=g(()=>this.#o(this.#t))}catch(e){this.error(e)}}#b(){const e=this.#n.pending;e&&(this.is_pending=!0,this.#e=g(()=>e(this.#t)),R(()=>{var t=this.#a=document.createDocumentFragment(),i=z();t.append(i),this.#r=this.#_(()=>(A.ensure(),g(()=>this.#o(i)))),this.#h===0&&(this.#t.before(t),this.#a=null,O(this.#e,()=>{this.#e=null}),this.is_pending=!1)}))}#g(){try{if(this.is_pending=this.has_pending_snippet(),this.#h=0,this.#l=0,this.#r=g(()=>{this.#o(this.#t)}),this.#h>0){var e=this.#a=document.createDocumentFragment();ie(this.#r,e);const t=this.#n.pending;this.#e=g(()=>t(this.#t))}else this.is_pending=!1}catch(t){this.error(t)}}defer_effect(e){ne(e,this.#u,this.#c)}is_rendered(){return!this.is_pending&&(!this.parent||this.parent.is_rendered())}has_pending_snippet(){return!!this.#n.pending}#_(e){var t=v,i=J,n=K;S(this.#s),D(this.#s),P(this.#s.ctx);try{return e()}catch(r){return ae(r),null}finally{S(t),D(i),P(n)}}#v(e){if(!this.has_pending_snippet()){this.parent&&this.parent.#v(e);return}if(this.#h+=e,this.#h===0){this.is_pending=!1;for(const t of this.#u)V(t,fe),q(t);for(const t of this.#c)V(t,he),q(t);this.#u.clear(),this.#c.clear(),this.#e&&O(this.#e,()=>{this.#e=null}),this.#a&&(this.#t.before(this.#a),this.#a=null)}}update_pending_count(e){this.#v(e),this.#l+=e,!(!this.#f||this.#d)&&(this.#d=!0,R(()=>{this.#d=!1,this.#f&&oe(this.#f,this.#l)}))}get_effect_pending(){return this.#y(),j(this.#f)}error(e){var t=this.#n.onerror;let i=this.#n.failed;if(!t&&!i)throw e;this.#r&&(F(this.#r),this.#r=null),this.#e&&(F(this.#e),this.#e=null),this.#i&&(F(this.#i),this.#i=null),p&&(N(this.#p),le(),N(de()));var n=!1,r=!1;const h=()=>{if(n){pe();return}n=!0,r&&ue(),this.#i!==null&&O(this.#i,()=>{this.#i=null}),this.#_(()=>{A.ensure(),this.#g()})};R(()=>{try{r=!0,t?.(e,h),r=!1}catch(a){H(a,this.#s&&this.#s.parent)}i&&(this.#i=this.#_(()=>{A.ensure();try{return g(()=>{var a=v;a.b=this,a.f|=C,i(this.#t,()=>e,()=>h)})}catch(a){return H(a,this.#s.parent),null}}))})}}const xe=["touchstart","touchmove"];function Ie(s){return xe.includes(s)}const T=Symbol("events"),Me=new Set,L=new Set;let W=null;function $(s){var e=this,t=e.ownerDocument,i=s.type,n=s.composedPath?.()||[],r=n[0]||s.target;W=s;var h=0,a=W===s&&s[T];if(a){var y=n.indexOf(a);if(y!==-1&&(e===document||e===window)){s[T]=e;return}var c=n.indexOf(e);if(c===-1)return;y<=c&&(h=y)}if(r=n[h]||s.target,r!==e){ge(s,"currentTarget",{configurable:!0,get(){return r||t}});var m=J,b=v;D(null),S(null);try{for(var f,l=[];r!==null;){var o=r.assignedSlot||r.parentNode||r.host||null;try{var u=r[T]?.[i];u!=null&&(!r.disabled||s.target===r)&&u.call(r,s)}catch(d){f?l.push(d):f=d}if(s.cancelBubble||o===e||o===null)break;r=o}if(f){for(let d of l)queueMicrotask(()=>{throw d});throw f}}finally{s[T]=e,delete s.currentTarget,D(m),S(b)}}}function Ve(s,e){var t=e==null?"":typeof e=="object"?e+"":e;t!==(s.__t??=s.nodeValue)&&(s.__t=t,s.nodeValue=t+"")}function Be(s,e){return X(s,e)}function qe(s,e){Y(),e.intro=e.intro??!1;const t=e.target,i=p,n=_;try{for(var r=ve(t);r&&(r.nodeType!==Q||r.data!==ye);)r=me(r);if(!r)throw x;E(!0),N(r);const h=X(s,{...e,anchor:r});return E(!1),h}catch(h){if(h instanceof Error&&h.message.split(`
`).some(a=>a.startsWith("https://svelte.dev/e/")))throw h;return h!==x&&console.warn("Failed to hydrate: ",h),e.recover===!1&&be(),Y(),Ee(t),E(!1),Be(s,e)}finally{E(i),N(n)}}const w=new Map;function X(s,{target:e,anchor:t,props:i={},events:n,context:r,intro:h=!0}){Y();var a=void 0,y=Te(()=>{var c=t??e.appendChild(z());Fe(c,{pending:()=>{}},f=>{Re({});var l=K;if(r&&(l.c=r),n&&(i.$$events=n),p&&ke(f,null),a=s(f,i)||{},p&&(v.nodes.end=_,_===null||_.nodeType!==Q||_.data!==Se))throw De(),x;Ne()});var m=new Set,b=f=>{for(var l=0;l<f.length;l++){var o=f[l];if(!m.has(o)){m.add(o);var u=Ie(o);for(const k of[e,document]){var d=w.get(k);d===void 0&&(d=new Map,w.set(k,d));var M=d.get(o);M===void 0?(k.addEventListener(o,$,{passive:u}),d.set(o,1)):d.set(o,M+1)}}}};return b(we(Me)),L.add(b),()=>{for(var f of m)for(const u of[e,document]){var l=w.get(u),o=l.get(f);--o==0?(u.removeEventListener(f,$),l.delete(f),l.size===0&&w.delete(u)):l.set(f,o)}L.delete(b),c!==t&&c.parentNode?.removeChild(c)}});return I.set(a,y),a}let I=new WeakMap;function He(s,e){const t=I.get(s);return t?(I.delete(s),t(e)):Promise.resolve()}export{qe as h,Be as m,Ve as s,He as u};
